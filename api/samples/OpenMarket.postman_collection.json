{
	"info": {
		"_postman_id": "fc809598-2500-4dd8-93b4-f18d3d774cdc",
		"name": "OpenMarket",
		"schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json",
		"_exporter_id": "2112922",
		"_collection_link": "https://dark-shadow-3643.postman.co/workspace/board-DB~79535783-d69c-4af1-8eaa-8292c9b66e5c/collection/2112922-fc809598-2500-4dd8-93b4-f18d3d774cdc?action=share&source=collection_link&creator=2112922"
	},
	"item": [
		{
			"name": "회원",
			"item": [
				{
					"name": "회원 가입",
					"request": {
						"method": "POST",
						"header": [],
						"body": {
							"mode": "raw",
							"raw": "{\r\n    \"email\": \"postman@market.com\",\r\n\t\"password\": \"11111111\",\r\n    \"name\": \"postman\",\r\n    \"phone\": \"0118889999\",\r\n    \"address\": \"서울시 강남구 역삼동 123\",\r\n    \"type\": \"user\",\r\n\t\"extra\": {\r\n        \"birthday\": \"03-23\",\r\n        \"address\": [\r\n            {\r\n                \"id\": 1,\r\n                \"name\": \"집\",\r\n                \"value\": \"서울시 강남구 역삼동 123\"\r\n            },\r\n            {\r\n                \"id\": 2,\r\n                \"name\": \"회사\",\r\n                \"value\": \"서울시 강남구 신사동 234\"\r\n            }\r\n        ]\r\n    }\r\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{url}}/users",
							"host": [
								"{{url}}"
							],
							"path": [
								"users"
							]
						}
					},
					"response": []
				},
				{
					"name": "회원 조회(모든 속성)",
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{accessToken}}",
									"type": "string"
								}
							]
						},
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{url}}/users/2",
							"host": [
								"{{url}}"
							],
							"path": [
								"users",
								"2"
							]
						}
					},
					"response": []
				},
				{
					"name": "회원 조회(단일 속성, email)",
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{accessToken}}",
									"type": "string"
								}
							]
						},
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{url}}/users/2/email",
							"host": [
								"{{url}}"
							],
							"path": [
								"users",
								"2",
								"email"
							]
						}
					},
					"response": []
				},
				{
					"name": "회원 조회(중첩 속성, extra.address)",
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{accessToken}}",
									"type": "string"
								}
							]
						},
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{url}}/users/2/extra/address",
							"host": [
								"{{url}}"
							],
							"path": [
								"users",
								"2",
								"extra",
								"address"
							]
						}
					},
					"response": []
				},
				{
					"name": "회원 수정(단일 속성, phone)",
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{accessToken}}",
									"type": "string"
								}
							]
						},
						"method": "PATCH",
						"header": [],
						"body": {
							"mode": "raw",
							"raw": "{\r\n    \"phone\": \"01011112222\"\r\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{url}}/users/2",
							"host": [
								"{{url}}"
							],
							"path": [
								"users",
								"2"
							]
						}
					},
					"response": []
				},
				{
					"name": "회원 수정(여러 속성, phone, name)",
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{accessToken}}",
									"type": "string"
								}
							]
						},
						"method": "PATCH",
						"header": [],
						"body": {
							"mode": "raw",
							"raw": "{\r\n    \"phone\": \"01099998888\",\r\n    \"name\": \"네오2\"\r\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{url}}/users/2",
							"host": [
								"{{url}}"
							],
							"path": [
								"users",
								"2"
							]
						}
					},
					"response": []
				},
				{
					"name": "회원 수정(중첩 속성, extra.address)",
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{accessToken}}",
									"type": "string"
								}
							]
						},
						"method": "PATCH",
						"header": [],
						"body": {
							"mode": "raw",
							"raw": "{\r\n    \"extra\": {\r\n        \"address\": [\r\n            {\r\n                \"id\": 1,\r\n                \"name\": \"회사\",\r\n                \"value\": \"서울시 강남구 삼성동 111\"\r\n            },\r\n            {\r\n                \"id\": 2,\r\n                \"name\": \"학교\",\r\n                \"value\": \"서울시 강남구 역삼동 222\"\r\n            }\r\n        ]\r\n    }\r\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{url}}/users/2",
							"host": [
								"{{url}}"
							],
							"path": [
								"users",
								"2"
							]
						}
					},
					"response": []
				},
				{
					"name": "이메일 중복 체크",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{url}}/users/email?email=b1@market.com",
							"host": [
								"{{url}}"
							],
							"path": [
								"users",
								"email"
							],
							"query": [
								{
									"key": "email",
									"value": "b1@market.com"
								}
							]
						}
					},
					"response": []
				},
				{
					"name": "로그인",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"if (pm.response.code === 200) {\r",
									"    const jsonData = pm.response.json();\r",
									"    const accessToken = jsonData.item.token.accessToken;\r",
									"    const refreshToken = jsonData.item.token.refreshToken;\r",
									"    pm.environment.set(\"accessToken\", accessToken);\r",
									"    pm.environment.set(\"refreshToken\", refreshToken);\r",
									"}"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [],
						"body": {
							"mode": "raw",
							"raw": "{\r\n    \"email\": \"u1@market.com\",\r\n    \"password\": \"11111111\"\r\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{url}}/users/login",
							"host": [
								"{{url}}"
							],
							"path": [
								"users",
								"login"
							]
						}
					},
					"response": []
				},
				{
					"name": "Access Token 재발행",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"if (pm.response.code === 200) {\r",
									"    const jsonData = pm.response.json();\r",
									"    const accessToken = jsonData.accessToken;\r",
									"    pm.environment.set(\"accessToken\", accessToken);\r",
									"}"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{refreshToken}}",
									"type": "string"
								}
							]
						},
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{url}}/users/refresh",
							"host": [
								"{{url}}"
							],
							"path": [
								"users",
								"refresh"
							]
						}
					},
					"response": []
				}
			]
		},
		{
			"name": "파일",
			"item": [
				{
					"name": "파일 업로드",
					"request": {
						"method": "POST",
						"header": [],
						"body": {
							"mode": "formdata",
							"formdata": [
								{
									"key": "attach",
									"type": "file",
									"src": "/C:/Users/yong/Downloads/favicon-32x32.png"
								}
							]
						},
						"url": {
							"raw": "{{url}}/files",
							"host": [
								"{{url}}"
							],
							"path": [
								"files"
							]
						}
					},
					"response": []
				}
			]
		},
		{
			"name": "상품",
			"item": [
				{
					"name": "상품 목록 조회",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{url}}/products",
							"host": [
								"{{url}}"
							],
							"path": [
								"products"
							]
						}
					},
					"response": []
				},
				{
					"name": "상품 검색(기본 검색)",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{url}}/products?minPrice=10000&maxPrice=60000&keyword=레고&seller_id=2&minDelivery=0&maxDelivery=3000",
							"host": [
								"{{url}}"
							],
							"path": [
								"products"
							],
							"query": [
								{
									"key": "minPrice",
									"value": "10000"
								},
								{
									"key": "maxPrice",
									"value": "60000"
								},
								{
									"key": "keyword",
									"value": "레고"
								},
								{
									"key": "seller_id",
									"value": "2"
								},
								{
									"key": "minDelivery",
									"value": "0"
								},
								{
									"key": "maxDelivery",
									"value": "3000"
								}
							]
						}
					},
					"response": []
				},
				{
					"name": "상품 검색(extra 속성으로 검색, 신상품만 조회)",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{url}}/products?extra={\"extra.isNew\": true}",
							"host": [
								"{{url}}"
							],
							"path": [
								"products"
							],
							"query": [
								{
									"key": "extra",
									"value": "{\"extra.isNew\": true}"
								}
							]
						}
					},
					"response": []
				},
				{
					"name": "상품 검색(extra 속성으로 검색, 카테고리가 PC01만 조회)",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{url}}/products?extra={\"extra.category.0\": \"PC01\"}",
							"host": [
								"{{url}}"
							],
							"path": [
								"products"
							],
							"query": [
								{
									"key": "extra",
									"value": "{\"extra.category.0\": \"PC01\"}"
								}
							]
						}
					},
					"response": []
				},
				{
					"name": "상품 정렬(price 내림차순)",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{url}}/products?sort={\"price\": -1}",
							"host": [
								"{{url}}"
							],
							"path": [
								"products"
							],
							"query": [
								{
									"key": "sort",
									"value": "{\"price\": -1}"
								}
							]
						}
					},
					"response": []
				},
				{
					"name": "상품 정렬(price 오름차순)",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{url}}/products?sort={\"price\": 1}",
							"host": [
								"{{url}}"
							],
							"path": [
								"products"
							],
							"query": [
								{
									"key": "sort",
									"value": "{\"price\": 1}"
								}
							]
						}
					},
					"response": []
				},
				{
					"name": "상품 등록",
					"request": {
						"method": "POST",
						"header": [],
						"body": {
							"mode": "raw",
							"raw": "{\r\n    \"seller_id\": 3,\r\n    \"price\": 22000,\r\n    \"delivery\": 3000,\r\n    \"show\": true,\r\n    \"active\": true,\r\n    \"name\": \"ZOZOFO 테이블 게임 축구 보드 사커 게임기 보드게임 2인경기 완구 가족모임 미니 월드컵 스포츠 어린이 크리스마스 선물 생일 선물\",\r\n    \"mainImages\": [\"/uploads/sample-janngu.jpg\"],\r\n    \"content\": \"<div class=\\\"product-detail\\\"><p>ZOZOFO 테이블 게임 축구 보드 사커 게임기 보드게임 2인경기 완구 가족모임 미니 월드컵 스포츠 어린이 크리스마스 선물 생일 선물 상세 설명</p></div>\",\r\n\t\"createdAt\": \"2023.10.12 12:34:56\",\r\n    \"updatedAt\": \"2023.10.12 12:34:56\",\r\n    \"extra\": {\r\n        \"isNew\": true,\r\n        \"isBest\": true,\r\n        \"category\": [\"PC02\", \"PC0201\"],\r\n        \"quantity\": 600,\r\n        \"buyQuantity\": 190,\r\n        \"order\": 7\r\n    }\r\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{url}}/products",
							"host": [
								"{{url}}"
							],
							"path": [
								"products"
							]
						}
					},
					"response": []
				},
				{
					"name": "상품 상세 조회",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{url}}/products/3",
							"host": [
								"{{url}}"
							],
							"path": [
								"products",
								"3"
							]
						}
					},
					"response": []
				},
				{
					"name": "상품 수정",
					"request": {
						"method": "PATCH",
						"header": [],
						"body": {
							"mode": "raw",
							"raw": "{\r\n    \"price\": 46000,\r\n    \"delivery\": 3000\r\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{url}}/products/3",
							"host": [
								"{{url}}"
							],
							"path": [
								"products",
								"3"
							]
						}
					},
					"response": []
				},
				{
					"name": "상품 삭제",
					"request": {
						"method": "DELETE",
						"header": [],
						"body": {
							"mode": "raw",
							"raw": "{\r\n    \"price\": 46000,\r\n    \"delivery\": 3000\r\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{url}}/products/3",
							"host": [
								"{{url}}"
							],
							"path": [
								"products",
								"3"
							]
						}
					},
					"response": []
				}
			]
		}
	]
}